find_package(Python COMPONENTS Interpreter Development)
find_package(Boost COMPONENTS python REQUIRED)

message("Python_FOUND:${Python_FOUND}")
message("Python_VERSION:${Python_VERSION}")
message("Python_Development_FOUND:${Python_Development_FOUND}")
message("Python_LIBRARIES:${Python_LIBRARIES}")
message("Python_INCLUDE_DIRS:${PYTHON_INCLUDE_DIRS}")

add_library(pywasim MODULE pywasim.cpp)
target_link_libraries(pywasim ${Boost_LIBRARIES} ${PYTHON_LIBRARIES})
target_include_directories(pywasim PRIVATE ${PYTHON_INCLUDE_DIRS})
configure_file(__init__.py ${CMAKE_CURRENT_BINARY_DIR}/__init__.py COPYONLY)
set_target_properties(pywasim PROPERTIES PREFIX "")
install(TARGETS pywasim __init__.py DESTINATION "${PYTHON_INSTALL_PATH}")
